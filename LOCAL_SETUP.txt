==============================
Telegram News Analyzer – Локальный запуск (без Docker)
==============================

0. Предпосылки
--------------
1. Python ≥ 3.11 (`python --version`)
2. PostgreSQL ≥ 13 установлен (например Homebrew или Postgres.app)
3. Ollama установлен и скачана модель (`ollama pull ilyagusev/saiga_llama3`)

1. Запуск/настройка Postgres
---------------------------
# Homebrew-вариант (пример)
    brew install postgresql@16
    brew services start postgresql@16

# Создаём базу
    psql -U $(whoami) -d postgres -c "CREATE DATABASE news_analyzer;"

2. Клонирование и окружение
---------------------------
    git clone <repo-url>
    cd telegram-chatbot_news_analyzer
    python -m venv venv && source venv/bin/activate
    pip install -r requirements.txt

3. Создание .env
----------------
    TELEGRAM_BOT_TOKEN=123456:ABCDEF
    TELEGRAM_CHANNEL_IDS=meduzalive,rbc_news
    OLLAMA_BASE_URL=http://localhost:11434
    OLLAMA_MODEL=ilyagusev/saiga_llama3
    DB_ENGINE=postgres
    POSTGRES_DSN=postgresql://<user>@localhost:5432/news_analyzer

4. Запуск Ollama (если ещё нет)
-------------------------------
    ollama serve &

5. Запуск бота
--------------
    python main.py

6. Проверка работы
------------------
1) В Telegram отправьте `/start`  — должно прийти приветствие.
2) Добавьте бота в канал из `TELEGRAM_CHANNEL_IDS`, опубликуйте сообщение — получите уведомление.
3) Проверка БД: `psql news_analyzer -c "SELECT count(*) FROM messages;"`

7. Просмотр данных через psql
----------------------------
    psql "$POSTGRES_DSN"
    \dt          -- список таблиц
    SELECT * FROM analyses LIMIT 5; 